// const MAX = require('../dist/max-exchange-api.js')
const MAX = require('../index')

const max = new MAX({ accessKey: 'cy7HrS7d8FAP4QKounU1lTDXAjwT9OBMnlX6IKqx', secretKey: 'HjhZv5Y8oxzcCUEaAm4kmCiznxuxuOY62XlTdg0e' })
// const max = new MAX()

const rest = max.rest()

console.log(max._cache)

function log (data) {
  console.log(data)
}

function error (err) {
  // console.log(err.message)
  console.log(err)
}

// rest.orders({limit: 10, market: 'btctwd', state: ['done']}).then(log)
const orderId = 56
rest.tradesOfOrder(orderId).then(log)
// rest.markets().then(log)
// rest.currencies().then(log)
// rest.tickers().then(log)
// rest.ticker({market: 'cccxtwd'}).then(log).catch(error)
// rest.k({market: 'btctwd', period: 3}).then(log).catch(error)
// rest.ticker().then(log).catch(error)
// rest.orderBook({market: 'btctwd', asksLimit: 1, bidsLimit: 1}).then(log).catch(error)
// rest.trades({market: 'btctwd', limit: 3}).then(log).catch(error)
// rest.timestamp().then(log)
// rest.me().then(log).catch(error)
// rest.profile().then(log).catch(error)
// rest.accounts().then(log).catch(error)
// rest.account('omg').then(log).catch(error)
// rest.deposits().then(log).catch(error)
// rest.deposit({ txid: '0xc084cd7c7778319283d33335ddb5577f436bb1a9d8795a9e78a57e671cf93880'}).then(log).catch(error)
// rest.depositAddresses({currency: 'usdt'}).then(log).catch(error)
// rest.withdrawals().then(log).catch(error)
// rest.withdrawal({uuid: '18032313350367'}).then(log).catch(error)
// rest.orders({market: 'cccxtwd', state: 'done'}).then(log).catch(error)
// rest.orders({market: '', state: 123}).then(log).catch(error)
// rest.order({id: 707736}).then(log).catch(error)
// rest.trades({market: 'mithtwd'}).then(log).catch(error)

// rest.placeOrder({market: 'cccxtwd', side: 'sell', volume: '100', price: '0.5'}).then(log).catch(error)
// rest.placeOrders({market: 'cccxtwd', orders: [{side: 'sell', volume: '100', price: '0.4'}]}).then(log).catch(error)
// rest.cancelOrder({id: 709400}).then(log).catch(error)
// rest.cancelOrders({market: 'cccxtwd', side: 'sell'}).then(log).catch(error)
// rest.cancelOrders({market: 'cccxtwd', side: 'sell'}).then(log).catch(error)
// rest.depositAddresses().then(log).catch(error)
// rest.generateDepositAddresses({currency: 'usdt'}).then(log).catch(error)
// rest.generateDepositAddresses({currency: 'btc'}).then(log).catch(error)

rest.calibrateTime().then(() => {
  // console.log(max._cache)
  // rest.me().then(log).catch(error)
}).catch(error)
